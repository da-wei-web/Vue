<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <title>登录方式切换</title>
</head>
<body>
    <!-- 
        注意1：
            在form表单中，点击按钮会默认刷新页面。
            因此在切换登录方式时，要用.prevent修饰符阻止切换按钮刷新页面的默认行为。
            如果没有阻止，达不到切换效果。
        注意2：
            没有加key属性，输入框会复用，仅改变了placeholder的值。切换时，不会清除用户已经输入的内容。
            因此为不同的登录方式的输入框添加key属性，保证两个输入框为两个元素。
        注意3：
            v-if、v-else、v-else-if都是改变dom树结构。条件为真，在dom树上添加元素；条件为假，清除或改变dom元素
    -->
    <section id="app">
        <section class="container">
            <form class="form-horizontal col-md-6 col-md-offset-3">
                <section class="form-group" v-if="status">
                    <label for="inputEmail3" class="col-sm-2 control-label">邮箱</label>
                    <section class="col-sm-10">
                        <input type="email" class="form-control" id="inputEmail3" placeholder="邮箱" key="email-input">
                    </section>
                </section>
                <section class="form-group" v-else>
                    <label for="inputAccount" class="col-sm-2 control-label">账号</label>
                    <section class="col-sm-10">
                        <input type="text" class="form-control" id="inputAccount" placeholder="账号" key="account-input">
                    </section>  
                </section>
                <!-- 切换登录方式按钮 -->
                <section class="form-group">
                    <section class="col-sm-offset-2 col-sm-10">
                        <button class="btn btn-primary" @click.prevent="changeBtn">切换为{{ btnMsg }}方式</button>
                    </section>
                </section>
                <section class="form-group">
                    <label for="inputPassword3" class="col-sm-2 control-label">密码</label>
                    <section class="col-sm-10">
                        <input type="password" class="form-control" id="inputPassword3" placeholder="Password">
                    </section>
                </section>
                <section class="form-group">
                    <section class="col-sm-offset-2 col-sm-10">
                        <section class="checkbox">
                            <label>
                                <input type="checkbox"> 记住密码
                            </label>
                        </section>
                    </section>
                </section>
                <section class="form-group">
                    <section class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary">登录</button>
                    </section>
                </section>
            </form>
        </section>
    </section>
</body>
<script src="./js/vue.js"></script>
<script>
    const vm = new Vue({
        el: "#app",
        data: {
            status: true, // 切换开关
            btnMsg: "账号登录"
        },
        methods: {
            changeBtn(){
                this.status = !this.status;
                if(this.status){
                    this.btnMsg = "账号登录";
                }else{
                    this.btnMsg = "邮箱登录";
                }
                return this.status;
            }
        }
    });
</script>
</html>